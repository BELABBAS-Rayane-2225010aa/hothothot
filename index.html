<!doctype html>
<html>
<head>
  <title>Observateur</title>
  <link type="text/css" rel="stylesheet" href="ui/style.css">
</head>
<body>

<h2>Pattern Observateur</h2>

<nav>
  <a class="navBar" href="Application/View/ViewAccueil.html">Accueil</a>
  <a class="navBar" href="Application/View/ViewDocumentation.html">Documentation</a>
</nav>






<script>
  /* Le Sujet observable*/
  class Observable {
    constructor() {
      this.observers = [];
    }

    subscribe(ob) {
      this.observers.push(ob);
      console.log(this.observers);
    }

    unsubscribe(ob) {
      let i = this.observers.indexOf(ob);
      this.observers.slice(i, i+1);
    }

    notify(data) {
      this.observers.forEach((observer) => observer.update(data));
    }

  }


  /* Les observateurs */
  class Logger {
    constructor() {

    }

    update(data) {
      console.log(data + 'Logger');
    }

  }

  class Logger2 {
    constructor() {

    }

    update(data) {
      console.log(data + 'Logger 2');
    }
  }

  class Logger3 {
    constructor() {

    }

    update(data) {
      console.log(data + 'Logger3');
    }

  }

  ob = new Observable();

  ob.subscribe(new Logger);
  ob.subscribe(new Logger2);
  ob.subscribe(new Logger3);


  ob.notify("Go");


</script>
</body>
</html>